@page "/{*remaining}"
@using Markdig
@using System.IO
@using Microsoft.AspNetCore.Html

@if (File.Exists(FileName))
{
    @((MarkupString)Markdown.ToHtml(File.ReadAllText(FileName), Config.MarkdownPipeline))
}
else
{
    @((MarkupString)Markdown.ToHtml("]>danger< # Error 404\r\n] File not found!", Config.MarkdownPipeline))
}


@code {
    [Parameter]
    public string Remaining { get; set; }
    
    public string FileName => Path.Combine(Config.Files.ContentDirectory, $"{(Remaining ?? "index")}.xmd");
    
    public IEnumerable<string> RemainingList {
        get
        {
            return Remaining?.Split("/");
        }
    }
}